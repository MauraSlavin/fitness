function renderHomePage(){navigator.onLine||renderOffline(),$.get("api/workouts/current",o=>{$(".goToCurrent").remove(),null!==o?($(".btnHref").append('<a href="./workout.html" class="btn btn-warning goToCurrent"></a>'),$(".goToCurrent").html(o.name)):$(".btnHref").append('<button class="btn btn-warning goToCurrent" disabled>No current workout.</button>')}),$.get("api/workouts",o=>{loadWorkoutNames(o)})}function loadWorkoutNames(o){let t="";o.forEach(o=>{void 0!==o.current&&o.current||(t='<br><button class="btn btn-warning btnSpace" data-id=',t+=`"${o._id}" `,navigator.onLine||(t+='disabled="disabled" '),t+=`type="button">${o.name}</button>`,t+="<br>",$(".addWorkoutList").append(t))})}function updateStatus(){navigator.onLine?renderOnline():renderOffline()}function renderOnline(){$(".offline").remove(),$(".createNewWorkout").attr("disabled",!1),$(".btnSpace").attr("disabled",!1)}function renderOffline(){$("h3").append('<p class="offline">You are now offline.  You can see the list of workouts, and the current workout, but you cannot add or change workouts or exercises.  Thank you for your patience.</p>'),$(".createNewWorkout").attr("disabled",!0),$(".btnSpace").attr("disabled",!0)}function createWorkout(){const o=$("#workout").val().trim();$("#workout").val(""),$.ajax({method:"PUT",url:"/api/workouts/current"}).then(o=>{console.log(o)}).then(t=>{$.ajax({method:"POST",url:`api/workout/${o}`}).then(o=>{renderHomePage()}).then(o=>{window.location.href="./workout.html"}).catch(o=>{console.log(o)})})}function goToOldWorkout(o){$.ajax({method:"PUT",url:"/api/workouts/current"}).then(t=>{$.ajax({method:"PUT",url:`api/workout/${o}`}).then(o=>{window.location.href="./workout.html"}).catch(o=>{console.log(o)})})}$(document).ready(()=>{renderHomePage(),window.scrollTo(0,0),window.addEventListener("online",updateStatus),window.addEventListener("offline",updateStatus),$(".createNewWorkout").on("click",()=>createWorkout()),$(".addWorkoutList").on("click",".btnSpace",function(o){goToOldWorkout($(this).data("id"))})});